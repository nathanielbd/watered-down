(this["webpackJsonpWatered-Down"]=this["webpackJsonpWatered-Down"]||[]).push([[0],{58:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(9),i=n(0),r=n(26),c=n.n(r),o=(n(58),n(3)),s=n(6),l=n(4),d=n(5),u=n(28),h=n(46),j=n(49),p={background:"#B6DCFE"},b=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(j.a,{style:p,children:[Object(a.jsx)("h1",{children:"Welcome to Watered Down!"}),Object(a.jsx)("p",{children:"Watered Down helps households meter their water usage. According to the EPA, the act of metering alone can reduce consumption by 20-40%. Our web-app allows users to easily print stickers to put on their water-consuming facilities like toilets, faucets, showers, and dishwashers. These stickers have a QR code which interfaces with our API to track the user's water usage whenever they are scanned. The web-app also comes with a dashboard to monitor the user's water usage visually."}),Object(a.jsx)("p",{children:"A Minnehack 2021 project by William Chan, Evan Tredal, Lynh Tran, and Nathaniel Budijono"})]})})}}]),n}(i.Component),f=n(29),x=(n(59),n(50)),O=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={config:{type:"bar",backgroundColor:"#fff",borderWidth:"5px",borderColor:"#CDEDFD",width:"96%",height:"90%",x:"2%",y:"3%",title:{text:"Water Usage Per Weekday by Gallons",marginTop:"7px",marginLeft:"20px",backgroundColor:"none",fontColor:"#1B263B",fontFamily:"Arial",fontSize:"20px",fontWeight:"bold",shadow:!1,textAlign:"left"},plot:{tooltip:{padding:"5px 10px",backgroundColor:"#707e94",borderRadius:"6px",fontColor:"#1B263B",fontFamily:"Arial",fontSize:"11px",shadow:!1},animation:{delay:500,effect:"ANIMATION_SLIDE_BOTTOM"},barWidth:"33px",hoverState:{visible:!1}},plotarea:{margin:"45px 20px 38px 45px"},scaleX:{values:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],guide:{visible:!1},item:{paddingTop:"2px",fontColor:"#1B263B",fontFamily:"Arial",fontSize:"15px"},itemsOverlap:!0,lineColor:"#d2dae2",maxItems:9999,offsetY:"1px",tick:{lineColor:"#d2dae2",visible:!1}},scaleY:{values:"0:10000:500",guide:{rules:[{lineWidth:"0px",rule:"%i == 0"},{alpha:.4,lineColor:"#d2dae2",lineStyle:"solid",lineWidth:"1px",rule:"%i > 0"}]},item:{paddingRight:"5px",fontColor:"#1B263B",fontFamily:"Arial",fontSize:"10px"},lineColor:"none",maxItems:11,maxTicks:4,tick:{visible:!1}},series:[{values:[1500,4650,1730,2001,5805,8905,9602,1050],styles:[{backgroundColor:"#4dbac0"},{backgroundColor:"#25a6f7"},{backgroundColor:"#ad6bae"},{backgroundColor:"#707d94"},{backgroundColor:"#f3950d"},{backgroundColor:"#e62163"},{backgroundColor:"#4e74c0"},{backgroundColor:"#9dc012"}]}]}},a}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(x.a,{ref:this.chart,data:this.state.config})})}}]),n}(i.Component),g=n.p+"static/media/Watered_Down_Logo.6d95c46e.png",m=n(27),v=n(13),w=n(45),y=n(30),k=n.n(y),C=n(42),A=n.p+"static/media/gallon.e4a1883c.png",S=n(37),W=n(17),T=n(51),B={"font-size":"2em"};function L(e){return I.apply(this,arguments)}function I(){return(I=Object(C.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={isLoading:!0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(C.a)(k.a.mark((function e(){var t,n,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("https://watered-down.zeet.app/api/user/".concat(this.props.userId));case 2:t=e.sent,n=t.reduce((function(e,t){return e+parseInt(t.gallons)}),0),a=t.reduce((function(e,t){return e.includes(t.application_id)?e:e.concat([t.application_id])}),[]),i=a.map((function(e){return t.reduce((function(t,n){return n.application_id==e?t+parseInt(n.gallons):t}),0)})),this.setState({gallons:n,appliances:a,galPerApp:i,isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.isLoading?Object(a.jsx)(T.a,{}):Object(a.jsxs)("div",{children:[Object(w.a)(Array(this.state.gallons)).map((function(e,t){return Object(a.jsx)(f.a,{src:A,fluid:!0,width:"200",height:"300"})})),Object(a.jsxs)("div",{style:B,children:[" Today's water usage is ",this.state.gallons," Gallons "]}),Object(a.jsx)("h5",{children:" Select option below to view water usage for specific appliance: "}),Object(a.jsx)("div",{children:Object(a.jsx)(S.a,{children:this.state.appliances.map((function(t,n){return Object(a.jsxs)(W.a,{children:[Object(a.jsx)(W.a.Header,{children:Object(a.jsx)(S.a.Toggle,{as:W.a.Header,eventKey:t,children:t})}),Object(a.jsx)(S.a.Collapse,{eventKey:t,children:Object(a.jsxs)(W.a.Body,{children:[Object(w.a)(Array(e.state.galPerApp[n])).map((function(e,t){return Object(a.jsx)(f.a,{src:A,fluid:!0,width:"200",height:"300"})})),Object(a.jsxs)(W.a.Text,{children:["You used ",t," to consume ",e.state.galPerApp[n]," gallons."]})]})})]})}))})})]})}}]),n}(i.Component),G=n(8),F=n(23),_=n(24),E=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsx)("center",{children:Object(a.jsxs)(W.a,{style:{width:"18rem"},children:[Object(a.jsx)(W.a.Img,{variant:"top",src:this.props.src}),Object(a.jsxs)(W.a.Body,{children:[Object(a.jsx)(W.a.Title,{children:this.props.app}),Object(a.jsxs)(W.a.Text,{children:["Each time you use ",Object(a.jsx)("b",{children:this.props.app}),", you consume ",Object(a.jsx)("b",{children:this.props.gallons})," gallons of water."]}),Object(a.jsx)(_.a,{onClick:function(){return window.print()},children:"Print me"})]})]})})}}]),n}(i.Component),z={width:"40em","text-align":"center"},N=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={url:"https://watered-down.zeet.app/api/record/",id:"Evan",facility:"",gallons:"",submitted:!1},a.handleFacilityChange=a.handleFacilityChange.bind(Object(G.a)(a)),a.handleGallonsChange=a.handleGallonsChange.bind(Object(G.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(G.a)(a)),a}return Object(s.a)(n,[{key:"handleFacilityChange",value:function(e){this.setState({facility:e.target.value})}},{key:"handleGallonsChange",value:function(e){this.setState({gallons:e.target.value})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.facility),e.preventDefault()}},{key:"render",value:function(){var e=this;return this.state.submitted?Object(a.jsx)(E,{app:this.state.facility,gallons:this.state.gallons,src:"http://api.qrserver.com/v1/create-qr-code/?data=".concat(this.state.url,"?user_id=").concat(this.state.id,"%26application_id=").concat(this.state.facility,"%26gallons=").concat(this.state.gallons,"&size=200x200")}):Object(a.jsxs)(W.a,{className:"align-items-center",children:[Object(a.jsx)(W.a.Header,{as:"h3",children:"   Add an Appliance!   "}),Object(a.jsxs)(F.a,{as:"form",id:"rs",onSubmit:this.handleSubmit,children:[Object(a.jsxs)(F.a.Group,{controlId:"appliance_id",children:[Object(a.jsx)(F.a.Label,{as:"h4",children:"Choose a name for your appliance"}),Object(a.jsx)(F.a.Control,{style:z,type:"text",value:this.state.facility,onChange:this.handleFacilityChange,required:!0,placeholder:"appliance name"})]}),Object(a.jsxs)(F.a.Group,{controlId:"gallons_total",children:[Object(a.jsx)(F.a.Label,{as:"h4",children:"How many gallons in a single use?"}),Object(a.jsx)(F.a.Control,{style:z,type:"text",value:this.state.gallons,onChange:this.handleGallonsChange,required:!0,placeholder:"# of gallons"})]}),Object(a.jsx)(_.a,{onClick:function(){return e.setState({submitted:!0})},children:"Get QR code"})]})]})}}]),n}(i.Component),P={height:"50px",width:"215px"},M=[{path:"/",exact:!0,main:function(){return Object(a.jsx)(H,{})}},{path:"/Stats",main:function(){return Object(a.jsx)(R,{})}},{path:"/AddNew",main:function(){return Object(a.jsx)(q,{})}},{path:"/Graph",main:function(){return Object(a.jsx)(U,{})}}];function H(){return Object(a.jsx)(b,{})}function R(){return Object(a.jsx)(D,{userId:"bob"})}function q(){return Object(a.jsx)(N,{})}function U(){return Object(a.jsx)(O,{})}function Y(){return document.title="Watered Down",Object(a.jsx)(m.a,{basename:"".concat("/watered-down","/"),children:Object(a.jsxs)("div",{children:[Object(a.jsxs)(h.a,{children:[Object(a.jsx)(h.a.Brand,{children:Object(a.jsx)(f.a,{src:g,style:P})}),Object(a.jsxs)(u.a,{children:[Object(a.jsx)(u.a.Link,{children:Object(a.jsx)(m.b,{to:"/",children:"Home"})}),Object(a.jsx)(u.a.Link,{children:Object(a.jsx)(m.b,{to:"/Stats",children:"View Water Use"})}),Object(a.jsx)(u.a.Link,{children:Object(a.jsx)(m.b,{to:"/AddNew",children:"Add Appliance"})}),Object(a.jsx)(u.a.Link,{children:Object(a.jsx)(m.b,{to:"/Graph",children:"Graph"})})]})]}),Object(a.jsx)(v.c,{children:Object(a.jsx)("div",{style:{paddingTop:20},children:M.map((function(e,t){return Object(a.jsx)(v.a,{path:e.path,exact:e.exact,children:Object(a.jsx)(e.main,{})},t)}))})})]})})}n(67),n(68);var J=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Y,{}),"Created for Minnehack 2021"]})}}]),n}(i.Component),K=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(a.jsx)(J,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/watered-down",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/watered-down","/service-worker.js");K?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Q(e)}))}}()}},[[69,1,2]]]);
//# sourceMappingURL=main.c38ee78a.chunk.js.map
(this["webpackJsonpWatered-Down"]=this["webpackJsonpWatered-Down"]||[]).push([[0],{57:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(0),i=n(27),c=n.n(i),o=(n(57),n(3)),s=n(6),l=n(4),d=n(5),u=n(29),h=n(46),j=n(23),b=n(13),p=n.p+"static/media/gallon.e4a1883c.png",f=n(19),x={background:"#fff",width:"50rem",margin:"0 auto",float:"none","margin-bottom":"10px",border:"3px solid #B6DCFE"},O=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"align-items-center",children:Object(a.jsx)(b.a,{style:x,children:Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Title,{as:"h1",children:"Welcome to Watered Down"}),Object(a.jsx)(b.a.Subtitle,{className:"mb-2 text-muted",children:"A Minnehack 2021 project by William Chan, Evan Tredal, Lynh Tran, and Nathaniel Budijono"}),Object(a.jsx)(b.a.Text,{children:"Watered Down helps households meter their water usage. According to the EPA, the act of metering alone can reduce consumption by 20-40%. Our web-app allows users to easily print stickers to put on their water-consuming facilities like toilets, faucets, showers, and dishwashers. These stickers have a QR code which interfaces with our API to track the user's water usage whenever they are scanned. Users can then come here see how much water they've used by the gallon as well as over time on a graph. We hope that by visualizing water consumption users will be mindful of their water usage."}),Object(a.jsx)(f.a,{src:p,width:"100em"}),Object(a.jsx)(f.a,{src:p,width:"100em"}),Object(a.jsx)(f.a,{src:p,width:"100em"}),Object(a.jsx)(f.a,{src:p,width:"100em"}),Object(a.jsx)(f.a,{src:p,width:"100em"}),Object(a.jsx)(f.a,{src:p,width:"100em"}),Object(a.jsx)(f.a,{src:p,width:"100em"}),Object(a.jsx)(j.a,{href:"#https://github.com/nathanielbd/watered-down",children:"Check out our code!"})]})})})}}]),n}(r.Component),g=(n(60),n(49)),m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={config:{type:"bar",backgroundColor:"#fff",borderWidth:"5px",borderColor:"#CDEDFD",width:"96%",height:"90%",x:"2%",y:"3%",title:{text:"Water Usage Per Weekday by Gallons",marginTop:"7px",marginLeft:"20px",backgroundColor:"none",fontColor:"#1B263B",fontFamily:"Arial",fontSize:"20px",fontWeight:"bold",shadow:!1,textAlign:"left"},plot:{tooltip:{padding:"5px 10px",backgroundColor:"#707e94",borderRadius:"6px",fontColor:"#1B263B",fontFamily:"Arial",fontSize:"11px",shadow:!1},animation:{delay:500,effect:"ANIMATION_SLIDE_BOTTOM"},barWidth:"33px",hoverState:{visible:!1}},plotarea:{margin:"45px 20px 38px 45px"},scaleX:{values:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],guide:{visible:!1},item:{paddingTop:"2px",fontColor:"#1B263B",fontFamily:"Arial",fontSize:"15px"},itemsOverlap:!0,lineColor:"#d2dae2",maxItems:9999,offsetY:"1px",tick:{lineColor:"#d2dae2",visible:!1}},scaleY:{values:"0:10000:500",guide:{rules:[{lineWidth:"0px",rule:"%i == 0"},{alpha:.4,lineColor:"#d2dae2",lineStyle:"solid",lineWidth:"1px",rule:"%i > 0"}]},item:{paddingRight:"5px",fontColor:"#1B263B",fontFamily:"Arial",fontSize:"10px"},lineColor:"none",maxItems:11,maxTicks:4,tick:{visible:!1}},series:[{values:[1500,4650,1730,2001,5805,8905,9602,1050],styles:[{backgroundColor:"#4dbac0"},{backgroundColor:"#25a6f7"},{backgroundColor:"#ad6bae"},{backgroundColor:"#707d94"},{backgroundColor:"#f3950d"},{backgroundColor:"#e62163"},{backgroundColor:"#4e74c0"},{backgroundColor:"#9dc012"}]}]}},a}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(g.a,{ref:this.chart,data:this.state.config})})}}]),n}(r.Component),w=n.p+"static/media/Watered_Down_Logo.6d95c46e.png",v=n(28),y=n(14),C=n(45),k=n(30),A=n.n(k),S=n(42),W=n(37),L=n(50),T={"font-size":"2em"};function _(e){return B.apply(this,arguments)}function B(){return(B=Object(S.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={isLoading:!0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(S.a)(A.a.mark((function e(){var t,n,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("https://watered-down.zeet.app/api/user/".concat(this.props.userId));case 2:t=e.sent,n=t.reduce((function(e,t){return e+parseInt(t.gallons)}),0),a=t.reduce((function(e,t){return e.includes(t.application_id)?e:e.concat([t.application_id])}),[]),r=a.map((function(e){return t.reduce((function(t,n){return n.application_id==e?t+parseInt(n.gallons):t}),0)})),this.setState({gallons:n,appliances:a,galPerApp:r,isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.isLoading?Object(a.jsx)(L.a,{}):Object(a.jsxs)("div",{children:[Object(C.a)(Array(this.state.gallons)).map((function(e,t){return Object(a.jsx)(f.a,{src:p,fluid:!0,width:"200",height:"300"})})),Object(a.jsxs)("div",{style:T,children:[" Today's water usage is ",this.state.gallons," Gallons "]}),Object(a.jsx)("h5",{children:" Select option below to view water usage for specific appliance: "}),Object(a.jsx)("div",{children:Object(a.jsx)(W.a,{children:this.state.appliances.map((function(t,n){return Object(a.jsxs)(b.a,{style:{width:"50rem",margin:"0 auto",float:"none","margin-bottom":"10px"},children:[Object(a.jsx)(b.a.Header,{children:Object(a.jsx)(W.a.Toggle,{as:b.a.Header,eventKey:t,children:t})}),Object(a.jsx)(W.a.Collapse,{eventKey:t,children:Object(a.jsxs)(b.a.Body,{children:[Object(C.a)(Array(e.state.galPerApp[n])).map((function(e,t){return Object(a.jsx)(f.a,{src:p,fluid:!0,width:"200",height:"300"})})),Object(a.jsxs)(b.a.Text,{children:["You used ",t," to consume ",e.state.galPerApp[n]," gallons."]})]})})]})}))})})]})}}]),n}(r.Component),G=n(9),D=n(17),N=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsx)("center",{children:Object(a.jsxs)(b.a,{style:{width:"18rem"},children:[Object(a.jsx)(b.a.Img,{variant:"top",src:this.props.src}),Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Title,{children:this.props.app}),Object(a.jsxs)(b.a.Text,{children:["Each time you use ",Object(a.jsx)("b",{children:this.props.app}),", you consume ",Object(a.jsx)("b",{children:this.props.gallons})," gallons of water."]}),Object(a.jsx)(j.a,{onClick:function(){return window.print()},children:"Print me"})]})]})})}}]),n}(r.Component),F={width:"40em","text-align":"center"},z=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={url:"https://watered-down.zeet.app/api/record/",id:window.user_id,facility:"",gallons:"",submitted:!1},a.handleFacilityChange=a.handleFacilityChange.bind(Object(G.a)(a)),a.handleGallonsChange=a.handleGallonsChange.bind(Object(G.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(G.a)(a)),a}return Object(s.a)(n,[{key:"handleFacilityChange",value:function(e){this.setState({facility:e.target.value})}},{key:"handleGallonsChange",value:function(e){this.setState({gallons:e.target.value})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.facility),e.preventDefault()}},{key:"render",value:function(){var e=this;return this.state.submitted?Object(a.jsx)(N,{app:this.state.facility,gallons:this.state.gallons,src:"http://api.qrserver.com/v1/create-qr-code/?data=".concat(this.state.url,"?user_id=").concat(this.state.id,"%26application_id=").concat(this.state.facility,"%26gallons=").concat(this.state.gallons,"&size=200x200")}):Object(a.jsxs)(b.a,{className:"align-items-center",style:{width:"50rem",margin:"0 auto",float:"none","margin-bottom":"10px"},children:[Object(a.jsx)(b.a.Header,{as:"h3",children:"   Add an Appliance!   "}),Object(a.jsxs)(D.a,{as:"form",id:"rs",onSubmit:this.handleSubmit,children:[Object(a.jsxs)(D.a.Group,{controlId:"appliance_id",children:[Object(a.jsx)(D.a.Label,{as:"h4",children:"Choose a name for your appliance"}),Object(a.jsx)(D.a.Control,{style:F,type:"text",value:this.state.facility,onChange:this.handleFacilityChange,required:!0,placeholder:"appliance name"})]}),Object(a.jsxs)(D.a.Group,{controlId:"gallons_total",children:[Object(a.jsx)(D.a.Label,{as:"h4",children:"How many gallons in a single use?"}),Object(a.jsx)(D.a.Control,{style:F,type:"text",value:this.state.gallons,onChange:this.handleGallonsChange,required:!0,placeholder:"# of gallons"})]}),Object(a.jsx)(j.a,{onClick:function(){return e.setState({submitted:!0})},children:"Get QR code"})]})]})}}]),n}(r.Component),E={height:"50px",width:"215px"},P=[{path:"/",exact:!0,main:function(){return Object(a.jsx)(H,{})}},{path:"/Stats",main:function(){return Object(a.jsx)(M,{})}},{path:"/AddNew",main:function(){return Object(a.jsx)(q,{})}},{path:"/Graph",main:function(){return Object(a.jsx)(R,{})}}];function H(){return Object(a.jsx)(O,{})}function M(){return Object(a.jsx)(I,{userId:window.user_id})}function q(){return Object(a.jsx)(z,{})}function R(){return Object(a.jsx)(m,{})}var U={width:"40em","text-align":"center"},Y=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={loggedin:!1,user_id:""},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return document.title="Watered Down",this.state.loggedin?Object(a.jsx)(v.a,{basename:"".concat("/watered-down","/"),children:Object(a.jsxs)("div",{children:[Object(a.jsxs)(h.a,{children:[Object(a.jsx)(h.a.Brand,{children:Object(a.jsx)(f.a,{src:w,style:E})}),Object(a.jsxs)(u.a,{children:[Object(a.jsx)(u.a.Link,{children:Object(a.jsx)(v.b,{to:"/",children:"Home"})}),Object(a.jsx)(u.a.Link,{children:Object(a.jsx)(v.b,{to:"/Stats",children:"View Water Use"})}),Object(a.jsx)(u.a.Link,{children:Object(a.jsx)(v.b,{to:"/AddNew",children:"Add Appliance"})}),Object(a.jsx)(u.a.Link,{children:Object(a.jsx)(v.b,{to:"/Graph",children:"Graph"})})]})]}),Object(a.jsx)(y.c,{children:Object(a.jsx)("div",{style:{paddingTop:20},children:P.map((function(e,t){return Object(a.jsx)(y.a,{path:e.path,exact:e.exact,children:Object(a.jsx)(e.main,{})},t)}))})})]})}):Object(a.jsx)("center",{children:Object(a.jsxs)(b.a,{className:"align-items-center",style:{width:"50-rem",margin:"0 auto",float:"none","margin-bottom":"10px"},children:[Object(a.jsx)(b.a.Header,{as:"h3",children:"Login"}),Object(a.jsxs)(D.a,{as:"form",id:"login",onSubmit:function(){return e.setState({loggedin:!0})},children:[Object(a.jsxs)(D.a.Group,{controlId:"user_id",children:[Object(a.jsx)(D.a.Label,{as:"h4",children:"Name"}),Object(a.jsx)(D.a.Control,{style:U,type:"text",value:this.state.user_id,onChange:function(t){return e.setState({user_id:t.target.value})},required:!0})]}),Object(a.jsxs)(D.a.Group,{controlId:"password",children:[Object(a.jsx)(D.a.Label,{as:"h4",children:"Password"}),Object(a.jsx)(D.a.Control,{style:U,type:"password"})]}),Object(a.jsx)(j.a,{type:"submit",onClick:function(){return window.user_id=e.state.user_id},children:"Login"})]})]})})}}]),n}(r.Component),J=(n(66),n(67),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Y,{}),"Created for Minnehack 2021"]})}}]),n}(r.Component)),K=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(a.jsx)(J,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/watered-down",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/watered-down","/service-worker.js");K?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Q(e)}))}}()}},[[68,1,2]]]);
//# sourceMappingURL=main.5014d18a.chunk.js.map